<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.a7a7.module.accom.AccomDao">
	
	<resultMap id="resultMapObj" type="com.a7a7.module.accom.AccomDto"/>
	
	<select id="findAccomList" resultMap="resultMapObj">
		SELECT
			accommodation_id AS accomId
			,title
			,image
			,tel
			,address
			,mapx
			,mapy
			,createdtime
			,modifiedtime
			,manager_id AS managerId
		FROM
			accommodation
	</select>
	
	<select id="findAccomByTitle" resultMap="resultMapObj">
		SELECT
			accommodation_id AS accomId
			,title
			,image
			,tel
			,address
			,mapx
			,mapy
			,createdtime
			,modifiedtime
			,manager_id AS managerId
		FROM
			accommodation
		WHERE
			title = #{title}
	</select>
	
	<select id="findAccomById" resultMap="resultMapObj">
		SELECT
			accommodation_id AS accomId
			,title
			,image
			,tel
			,address
			,mapx
			,mapy
			,createdtime
			,modifiedtime
			,manager_id AS managerId
		FROM
			accommodation
		WHERE
			accommodation_id = #{accomId}
	</select>
	
	<insert id="saveAccomApiResponse">
	INSERT INTO accommodation
	(
	title
	,image
	,tel
	,address
	,mapx
	,mapy
	,createdtime
	,modifiedtime
	,delNy
	,manager_id
	)
	VALUES
	(
	#{title}
	,#{image}
	,#{tel}
	,#{address}
	,#{mapx}
	,#{mapy}
	,#{createdtime}
	,#{modifiedtime}
	,0
	,#{managerId}
	)
	</insert>
	
</mapper>